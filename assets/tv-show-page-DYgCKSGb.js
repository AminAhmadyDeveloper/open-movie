import{a as e,c as t,i as n,n as r,o as i,r as a,s as o,t as s,y as c}from"./show-BW1-mfQd.js";import{t as l}from"./useBaseQuery-BSRmrGJG.js";import{a as u,c as d,i as f,l as p,o as m,r as h,s as g,t as _,u as v}from"./imdb-BwA699hg.js";import{B as y,C as b,R as x,S,T as C,U as w,V as T,n as E,r as D,x as O}from"./index-CWN-LTCY.js";function k(e,t){return l(e,c,t)}var A=w(y()),j=w(T()),M=w(x());const N=({tvShowDetails:t})=>{let n=(0,j.useMemo)(()=>{if(!t.external_ids.imdb_id||t.seasons.length===0)return console.warn(`Cannot generate download links: Missing IMDb ID or number of seasons.`),{message:`لینک‌های دانلود در حال حاضر در دسترس نیستند.`,success:!1};let e={imdbId:t.external_ids.imdb_id,seasons:[],success:!0};for(let n=1;n<=t.seasons.length;n++){let r=[];for(let e=1;e<=4;e++)r.push({link:`https://subtitle.saymyname.website/DL/filmgir/?i=${t.external_ids.imdb_id}&f=${n}&q=${e}`,quality:e});e.seasons.push({qualities:r,season:n})}return e},[t.external_ids.imdb_id,t.seasons.length]),r=(0,j.useMemo)(()=>`https://almasmovie.website/series/${h(`${t?.original_name}`)}`,[t?.original_name]),{data:i,loading:o}=f(r);return(0,M.jsxs)(`div`,{children:[(0,M.jsx)(e,{children:`لینک های دانلود (الماس مووی)`}),(0,M.jsx)(`div`,{className:`mt-2 grid w-full grid-cols-1 gap-4`,children:(0,M.jsxs)(b,{value:o,children:[(0,M.jsx)(O,{value:!0,children:(0,M.jsx)(a,{each:[1,2,3],children:e=>(0,M.jsx)(u,{className:`h-11 w-full`},`download-link-loading-${e}`)})}),(0,M.jsx)(S,{children:(0,M.jsxs)(b,{value:!!i?.result?.length,children:[(0,M.jsx)(O,{value:!0,children:(0,M.jsx)(a,{each:i?.result,children:t=>(0,M.jsx)(m,{collapsible:!0,type:`single`,children:(0,M.jsxs)(d,{value:`item-1`,children:[(0,M.jsx)(p,{className:`flex h-11 w-full items-center justify-between border bg-secondary px-2 data-[state=open]:!rounded-b-none`,children:(0,M.jsx)(`div`,{className:`flex items-center gap-x-3`,children:(0,M.jsxs)(`span`,{children:[`فصل `,t.season]})})}),(0,M.jsx)(g,{asChild:!0,className:`rounded-xl !rounded-t-none border !border-t-0 bg-secondary p-2`,children:(0,M.jsx)(`div`,{className:`grid gap-2 xl:grid-cols-2`,children:(0,M.jsx)(a,{each:t.qualities,children:t=>(0,M.jsx)(C,{asChild:!0,className:`h-11 w-full`,size:`lg`,children:(0,M.jsxs)(E,{target:`_blank`,to:t.downloadLink||``,children:[(0,M.jsx)(v,{}),`برو به دانلود `,t.info?.quality.fa,(0,M.jsx)(s,{on:t.info?.x265,children:()=>(0,M.jsx)(e,{variant:`secondary`,children:`x265`})}),(0,M.jsx)(s,{on:t.info?.dubbed,children:()=>(0,M.jsx)(e,{variant:`secondary`,children:`دوبله فارسی`})}),(0,M.jsx)(s,{on:t.info?.encoder!==`نامشخص`,children:()=>(0,M.jsxs)(e,{variant:`secondary`,children:[`انکودر: `,t.info?.encoder]})})]})})})})},`download-link-content-${t.season}`)]})},`download-link-trigger-${t.season}`)})}),(0,M.jsx)(S,{children:(0,M.jsx)(a,{each:n.seasons,children:(t,n)=>(0,M.jsxs)(`div`,{className:`relative mt-5 grid w-full grid-cols-2 gap-2 rounded-xl border border-dashed p-4 xl:grid-cols-4`,children:[(0,M.jsxs)(e,{className:`absolute -top-3 right-0`,children:[`فصل `,n+1]}),(0,M.jsx)(a,{each:t.qualities,children:(e,t)=>(0,M.jsx)(C,{asChild:!0,className:`h-11 w-full`,size:`lg`,children:(0,M.jsxs)(E,{target:`_blank`,to:e.link,children:[(0,M.jsx)(v,{}),`کیفیت `,t+1]})},e.link)})]},t.season)})})]})})]})}),(0,M.jsx)(C,{asChild:!0,className:`mt-4 h-11 w-full`,size:`lg`,variant:`secondary`}),(0,M.jsx)(`div`,{className:`mt-4 w-full rounded-2xl border border-destructive bg-destructive/15 p-4 text-justify text-sm/relaxed text-destructive`,children:`این وب‌سایت تنها به‌عنوان مرجع اطلاعات فیلم و سریال فعالیت می‌کند و هیچ‌گونه فایل یا محتوایی را روی سرورهای خود میزبانی نمی‌کند. اطلاعات از APIهای عمومی جمع‌آوری شده و لینک‌های دانلود صرفاً از وب‌سایت الماس مووی نمایش داده می‌شوند. ما هیچ دخالتی در ایجاد یا مدیریت این لینک‌ها نداریم و مسئولیتی در قبال سالم بودن، فعال بودن یا ایمن بودن آن‌ها نمی‌پذیریم. استفاده از لینک‌ها کاملاً بر عهده کاربر است و ممکن است برخی از آن‌ها در هر زمان از دسترس خارج شوند. این وب‌سایت هیچ وابستگی رسمی به استودیوها یا ناشران ندارد و داده‌ها صرفاً برای اطلاع‌رسانی ارائه می‌شوند. با ادامه استفاده از سایت، شما شرایط و ضوابط ما را می‌پذیرید. برای جزئیات بیشتر لطفاً به صفحه «سلب مسئولیت» مراجعه کنید.`})]})};var P=w(i());const F=({tvShowDetails:r})=>{let i=(0,j.useMemo)(()=>r?.first_air_date.slice(0,4),[r?.first_air_date]);return(0,M.jsxs)(`div`,{className:`relative h-[80vh] overflow-hidden rounded-b-2xl lg:h-[calc(80vh-4rem)]`,children:[(0,M.jsx)(`img`,{className:`size-full object-cover object-center`,src:n(r.backdrop_path,{type:`cover`})}),(0,M.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-background to-transparent`,children:(0,M.jsxs)(`div`,{className:`flex size-full flex-col items-center justify-center md:items-start md:ps-80`,children:[(0,M.jsx)(s,{on:r?.poster_path,children:i=>(0,M.jsxs)(`div`,{className:`relative overflow-hidden rounded-2xl outline-1 outline-border md:absolute md:start-24 md:top-1/2 md:mb-0 md:-translate-y-1/2`,children:[(0,M.jsx)(P.LazyLoadImage,{className:`w-44 md:w-52`,loading:`eager`,src:n(i,{size:`500`})}),(0,M.jsxs)(e,{className:`absolute start-3 top-3 flex items-center`,variant:`secondary`,children:[(0,M.jsx)(t,{}),(0,M.jsxs)(`span`,{className:`mt-0.5`,children:[`امتیاز: `,r?.vote_average,`/10`]})]})]})}),(0,M.jsxs)(`div`,{className:`container flex flex-col items-center justify-center`,children:[(0,M.jsxs)(`h1`,{className:`mt-6 w-full text-center text-lg font-bold md:mt-0 md:text-start`,children:[`فیلم `,r?.name]}),(0,M.jsxs)(`p`,{className:`my-4 text-center md:w-full md:text-start`,children:[`خلاصه داستان:`,` `,r?.overview.slice(0,240)||`هنوز توضیحات و خلاصه ای برای این عنوان ثبت نشده است`,`...`]}),(0,M.jsxs)(`div`,{className:`w-max md:w-full`,children:[(0,M.jsxs)(e,{className:`mx-1 mb-1`,children:[`سال تولید: `,i]}),(0,M.jsxs)(e,{className:`mx-1 mb-1`,children:[`تعداد فصل:‌ `,r.seasons.length]})]})]})]})})]})},I=t=>{let n=(0,A.c)(34),{tvShowDetails:r}=t,i;n[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,M.jsx)(e,{children:`اطلاعات فیلم`}),n[0]=i):i=n[0];let a=`https://www.imdb.com/title/${r?.external_ids.imdb_id}`,o;n[1]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,M.jsx)(_,{}),n[1]=o):o=n[1];let s;n[2]===a?s=n[3]:(s=(0,M.jsxs)(E,{className:`mb-3 flex gap-x-2 rounded-lg border bg-[#e2b616] p-2.5 text-black underline`,to:a,children:[o,`صفحه IMDB`]}),n[2]=a,n[3]=s);let c,l;n[4]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`ژانر`}),l=(0,M.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[4]=c,n[5]=l):(c=n[4],l=n[5]);let u;n[6]===r?.genres?u=n[7]:(u=r?.genres.map(L).join(` - `),n[6]=r?.genres,n[7]=u);let d;n[8]===u?d=n[9]:(d=(0,M.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[c,l,(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:u})]}),n[8]=u,n[9]=d);let f,p;n[10]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`کارگردان`}),f=(0,M.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[10]=f,n[11]=p):(f=n[10],p=n[11]);let m;n[12]===r?.created_by?m=n[13]:(m=r?.created_by.at(0)?.name,n[12]=r?.created_by,n[13]=m);let h;n[14]===m?h=n[15]:(h=(0,M.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[p,f,(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:m})]}),n[14]=m,n[15]=h);let g,v;n[16]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`زبان‌ها`}),v=(0,M.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[16]=g,n[17]=v):(g=n[16],v=n[17]);let y;n[18]===r?.spoken_languages?y=n[19]:(y=r?.spoken_languages.map(R).join(` - `),n[18]=r?.spoken_languages,n[19]=y);let b;n[20]===y?b=n[21]:(b=(0,M.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[g,v,(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:y})]}),n[20]=y,n[21]=b);let x,S;n[22]===Symbol.for(`react.memo_cache_sentinel`)?(x=(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`محصول کشور`}),S=(0,M.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[22]=x,n[23]=S):(x=n[22],S=n[23]);let C;n[24]===r?.production_countries?C=n[25]:(C=r?.production_countries.at(0)?.name,n[24]=r?.production_countries,n[25]=C);let w;n[26]===C?w=n[27]:(w=(0,M.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[x,S,(0,M.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:C})]}),n[26]=C,n[27]=w);let T;return n[28]!==h||n[29]!==b||n[30]!==w||n[31]!==s||n[32]!==d?(T=(0,M.jsxs)(`div`,{className:`grid max-h-max grid-cols-1 gap-y-2`,children:[i,s,d,h,b,w]}),n[28]=h,n[29]=b,n[30]=w,n[31]=s,n[32]=d,n[33]=T):T=n[33],T};function L(e){return e.name}function R(e){return e.name}var z=w(y()),B=()=>{let e=(0,z.c)(18),{tvShowId:t}=D(),n;e[0]===t?n=e[1]:(n=r.tv.details(t),e[0]=t,e[1]=n);let i=!!t,a;e[2]!==n||e[3]!==i?(a={...n,enabled:i},e[2]=n,e[3]=i,e[4]=a):a=e[4];let c=k(a);if(c.isFetching){let t;return e[5]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,M.jsx)(o,{}),e[5]=t):t=e[5],t}let l=c.data?.data,u;e[6]===l?u=e[7]:(u=(0,M.jsx)(s,{on:l,children:V}),e[6]=l,e[7]=u);let d=c.data?.data,f;e[8]===d?f=e[9]:(f=(0,M.jsx)(`div`,{className:`p-4 md:col-span-1 xl:col-span-3`,children:(0,M.jsx)(s,{on:d,children:H})}),e[8]=d,e[9]=f);let p=c.data?.data,m;e[10]===p?m=e[11]:(m=(0,M.jsx)(`div`,{className:`p-4 md:col-span-1 xl:col-span-2`,children:(0,M.jsx)(s,{on:p,children:U})}),e[10]=p,e[11]=m);let h;e[12]!==f||e[13]!==m?(h=(0,M.jsxs)(`div`,{className:`relative container -mt-24 grid grid-cols-1 pt-5 md:mt-0 md:grid-cols-2 xl:grid-cols-5`,children:[f,m]}),e[12]=f,e[13]=m,e[14]=h):h=e[14];let g;return e[15]!==u||e[16]!==h?(g=(0,M.jsxs)(`main`,{children:[u,h]}),e[15]=u,e[16]=h,e[17]=g):g=e[17],g};function V(e){return(0,M.jsx)(F,{tvShowDetails:e})}function H(e){return(0,M.jsx)(N,{tvShowDetails:e})}function U(e){return(0,M.jsx)(I,{tvShowDetails:e})}export{B as default};