import{a as e,c as t,i as n,n as r,o as i,r as a,s as o,t as s,y as c}from"./show-BKtqouzF.js";import{t as l}from"./useBaseQuery-DvTrVAxM.js";import{n as u,t as d}from"./imdb-BgUbnyYY.js";import{E as f,O as p,S as m,j as h,k as g,n as _,r as v}from"./index-BBZq5bNO.js";function y(e,t){return l(e,c,t)}var b=h(p()),x=h(f());const S=t=>{let n=(0,b.c)(11),{tvShowDetails:r}=t,i;bb0:{if(!r.external_ids.imdb_id||r.seasons.length===0){console.warn(`Cannot generate download links: Missing IMDb ID or number of seasons.`);let e;n[0]===Symbol.for(`react.memo_cache_sentinel`)?(e={message:`لینک‌های دانلود در حال حاضر در دسترس نیستند.`,success:!1},n[0]=e):e=n[0],i=e;break bb0}let e;if(n[1]!==r.external_ids.imdb_id||n[2]!==r.seasons.length){e={imdbId:r.external_ids.imdb_id,seasons:[],success:!0};for(let t=1;t<=r.seasons.length;t++){let n=[];for(let e=1;e<=4;e++)n.push({link:`https://subtitle.saymyname.website/DL/filmgir/?i=${r.external_ids.imdb_id}&f=${t}&q=${e}`,quality:e});e.seasons.push({qualities:n,season:t})}n[1]=r.external_ids.imdb_id,n[2]=r.seasons.length,n[3]=e}else e=n[3];i=e}let o=i,s;n[4]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,x.jsx)(e,{children:`لینک های دانلود (الماس مووی)`}),n[4]=s):s=n[4];let c;n[5]===o.seasons?c=n[6]:(c=(0,x.jsx)(`div`,{className:`mt-2`,children:(0,x.jsx)(a,{each:o.seasons,children:C})}),n[5]=o.seasons,n[6]=c);let l,u;n[7]===Symbol.for(`react.memo_cache_sentinel`)?(l=(0,x.jsx)(m,{asChild:!0,className:`mt-4 h-11 w-full`,size:`lg`,variant:`secondary`}),u=(0,x.jsx)(`div`,{className:`mt-4 w-full rounded-2xl border border-destructive bg-destructive/15 p-4 text-justify text-sm/relaxed text-destructive`,children:`این وب‌سایت تنها به‌عنوان مرجع اطلاعات فیلم و سریال فعالیت می‌کند و هیچ‌گونه فایل یا محتوایی را روی سرورهای خود میزبانی نمی‌کند. اطلاعات از APIهای عمومی جمع‌آوری شده و لینک‌های دانلود صرفاً از وب‌سایت الماس مووی نمایش داده می‌شوند. ما هیچ دخالتی در ایجاد یا مدیریت این لینک‌ها نداریم و مسئولیتی در قبال سالم بودن، فعال بودن یا ایمن بودن آن‌ها نمی‌پذیریم. استفاده از لینک‌ها کاملاً بر عهده کاربر است و ممکن است برخی از آن‌ها در هر زمان از دسترس خارج شوند. این وب‌سایت هیچ وابستگی رسمی به استودیوها یا ناشران ندارد و داده‌ها صرفاً برای اطلاع‌رسانی ارائه می‌شوند. با ادامه استفاده از سایت، شما شرایط و ضوابط ما را می‌پذیرید. برای جزئیات بیشتر لطفاً به صفحه «سلب مسئولیت» مراجعه کنید.`}),n[7]=l,n[8]=u):(l=n[7],u=n[8]);let d;return n[9]===c?d=n[10]:(d=(0,x.jsxs)(`div`,{children:[s,c,l,u]}),n[9]=c,n[10]=d),d};function C(t,n){return(0,x.jsxs)(`div`,{className:`relative mt-5 grid w-full grid-cols-2 gap-2 rounded-xl border border-dashed p-4 xl:grid-cols-4`,children:[(0,x.jsxs)(e,{className:`absolute -top-3 right-0`,children:[`فصل `,n+1]}),(0,x.jsx)(a,{each:t.qualities,children:(e,t)=>(0,x.jsx)(m,{asChild:!0,className:`h-11 w-full`,size:`lg`,variant:n===0?`default`:`destructive`,children:(0,x.jsxs)(_,{target:`_blank`,to:e.link,children:[(0,x.jsx)(u,{}),`کیفیت `,t+1]})},e.link)})]},t.season)}var w=h(g()),T=h(i());const E=({tvShowDetails:r})=>{let i=(0,w.useMemo)(()=>r?.first_air_date.slice(0,4),[r?.first_air_date]);return(0,x.jsxs)(`div`,{className:`relative h-[80vh] overflow-hidden rounded-b-2xl lg:h-[calc(80vh-4rem)]`,children:[(0,x.jsx)(`img`,{className:`size-full object-cover object-center`,src:n(r.backdrop_path,{type:`cover`})}),(0,x.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-t from-background to-transparent`,children:(0,x.jsxs)(`div`,{className:`flex size-full flex-col items-center justify-center md:items-start md:ps-80`,children:[(0,x.jsx)(s,{on:r?.poster_path,children:i=>(0,x.jsxs)(`div`,{className:`relative overflow-hidden rounded-2xl outline-1 outline-border md:absolute md:start-24 md:top-1/2 md:mb-0 md:-translate-y-1/2`,children:[(0,x.jsx)(T.LazyLoadImage,{className:`w-44 md:w-52`,loading:`eager`,src:n(i,{size:`500`})}),(0,x.jsxs)(e,{className:`absolute start-3 top-3 flex items-center`,variant:`secondary`,children:[(0,x.jsx)(t,{}),(0,x.jsxs)(`span`,{className:`mt-0.5`,children:[`امتیاز: `,r?.vote_average,`/10`]})]})]})}),(0,x.jsxs)(`div`,{className:`container flex flex-col items-center justify-center`,children:[(0,x.jsxs)(`h1`,{className:`mt-6 w-full text-center text-lg font-bold md:mt-0 md:text-start`,children:[`فیلم `,r?.name]}),(0,x.jsxs)(`p`,{className:`my-4 text-center md:w-full md:text-start`,children:[`خلاصه داستان:`,` `,r?.overview.slice(0,240)||`هنوز توضیحات و خلاصه ای برای این عنوان ثبت نشده است`,`...`]}),(0,x.jsxs)(`div`,{className:`w-max md:w-full`,children:[(0,x.jsxs)(e,{className:`mx-1 mb-1`,children:[`سال تولید: `,i]}),(0,x.jsxs)(e,{className:`mx-1 mb-1`,children:[`تعداد فصل:‌ `,r.seasons.length]})]})]})]})})]})};var D=h(p());const O=t=>{let n=(0,D.c)(34),{tvShowDetails:r}=t,i;n[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,x.jsx)(e,{children:`اطلاعات فیلم`}),n[0]=i):i=n[0];let a=`https://www.imdb.com/title/${r?.external_ids.imdb_id}`,o;n[1]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,x.jsx)(d,{}),n[1]=o):o=n[1];let s;n[2]===a?s=n[3]:(s=(0,x.jsxs)(_,{className:`mb-3 flex gap-x-2 rounded-lg border bg-[#e2b616] p-2.5 text-black underline`,to:a,children:[o,`صفحه IMDB`]}),n[2]=a,n[3]=s);let c,l;n[4]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`ژانر`}),l=(0,x.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[4]=c,n[5]=l):(c=n[4],l=n[5]);let u;n[6]===r?.genres?u=n[7]:(u=r?.genres.map(k).join(` - `),n[6]=r?.genres,n[7]=u);let f;n[8]===u?f=n[9]:(f=(0,x.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[c,l,(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:u})]}),n[8]=u,n[9]=f);let p,m;n[10]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`کارگردان`}),p=(0,x.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[10]=p,n[11]=m):(p=n[10],m=n[11]);let h;n[12]===r?.created_by?h=n[13]:(h=r?.created_by.at(0)?.name,n[12]=r?.created_by,n[13]=h);let g;n[14]===h?g=n[15]:(g=(0,x.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[m,p,(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:h})]}),n[14]=h,n[15]=g);let v,y;n[16]===Symbol.for(`react.memo_cache_sentinel`)?(v=(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`زبان‌ها`}),y=(0,x.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[16]=v,n[17]=y):(v=n[16],y=n[17]);let b;n[18]===r?.spoken_languages?b=n[19]:(b=r?.spoken_languages.map(A).join(` - `),n[18]=r?.spoken_languages,n[19]=b);let S;n[20]===b?S=n[21]:(S=(0,x.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[v,y,(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:b})]}),n[20]=b,n[21]=S);let C,w;n[22]===Symbol.for(`react.memo_cache_sentinel`)?(C=(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:`محصول کشور`}),w=(0,x.jsx)(`span`,{className:`flex items-center`,children:`:`}),n[22]=C,n[23]=w):(C=n[22],w=n[23]);let T;n[24]===r?.production_countries?T=n[25]:(T=r?.production_countries.at(0)?.name,n[24]=r?.production_countries,n[25]=T);let E;n[26]===T?E=n[27]:(E=(0,x.jsxs)(`div`,{className:`flex gap-x-1.5`,children:[C,w,(0,x.jsx)(`span`,{className:`flex flex-1 items-center justify-center rounded-lg border py-3 text-xs`,children:T})]}),n[26]=T,n[27]=E);let O;return n[28]!==g||n[29]!==S||n[30]!==E||n[31]!==s||n[32]!==f?(O=(0,x.jsxs)(`div`,{className:`grid max-h-max grid-cols-1 gap-y-2`,children:[i,s,f,g,S,E]}),n[28]=g,n[29]=S,n[30]=E,n[31]=s,n[32]=f,n[33]=O):O=n[33],O};function k(e){return e.name}function A(e){return e.name}var j=h(p()),M=()=>{let e=(0,j.c)(18),{tvShowId:t}=v(),n;e[0]===t?n=e[1]:(n=r.tv.details(t),e[0]=t,e[1]=n);let i=!!t,a;e[2]!==n||e[3]!==i?(a={...n,enabled:i},e[2]=n,e[3]=i,e[4]=a):a=e[4];let c=y(a);if(c.isFetching){let t;return e[5]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,x.jsx)(o,{}),e[5]=t):t=e[5],t}let l=c.data?.data,u;e[6]===l?u=e[7]:(u=(0,x.jsx)(s,{on:l,children:N}),e[6]=l,e[7]=u);let d=c.data?.data,f;e[8]===d?f=e[9]:(f=(0,x.jsx)(`div`,{className:`p-4 md:col-span-1 xl:col-span-3`,children:(0,x.jsx)(s,{on:d,children:P})}),e[8]=d,e[9]=f);let p=c.data?.data,m;e[10]===p?m=e[11]:(m=(0,x.jsx)(`div`,{className:`p-4 md:col-span-1 xl:col-span-2`,children:(0,x.jsx)(s,{on:p,children:F})}),e[10]=p,e[11]=m);let h;e[12]!==f||e[13]!==m?(h=(0,x.jsxs)(`div`,{className:`relative container -mt-24 grid grid-cols-1 pt-5 md:mt-0 md:grid-cols-2 xl:grid-cols-5`,children:[f,m]}),e[12]=f,e[13]=m,e[14]=h):h=e[14];let g;return e[15]!==u||e[16]!==h?(g=(0,x.jsxs)(`main`,{children:[u,h]}),e[15]=u,e[16]=h,e[17]=g):g=e[17],g};function N(e){return(0,x.jsx)(E,{tvShowDetails:e})}function P(e){return(0,x.jsx)(S,{tvShowDetails:e})}function F(e){return(0,x.jsx)(O,{tvShowDetails:e})}export{M as default};